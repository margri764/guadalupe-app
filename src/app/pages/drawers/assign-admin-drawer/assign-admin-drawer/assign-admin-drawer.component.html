


<div class="d-flex justify-content-between align-items-center pd-10" [ngStyle]="phone ? {'width':'97vw'}:{'width':'600px'}">
    <h1 mat-dialog-title style="font-family: poppins-regular;"> Selecione Administradores </h1>
    <span class="material-icons cursor " [ngClass]="backClose ? ' iconSelected':'iconDeselected' " (click)="closeModal()">close</span>
</div>


<mat-dialog-content style="padding: 20px" [ngStyle]="phone ? {'width':'97vw'}:{'width':'600px'}">
    
    <div class="cardWithShadow w-100 animate__animated animate__fadeIn pd-10"  >

      <div class="row pd-20">

        <div class="mat-elevation-z8 mt-20 pd-20">

                   
          
          <div class="d-flex justify-content-between align-items-center w-100" >

            <mat-form-field appearance="outline" color="primary" style= "width: 160px">
             <input matInput placeholder="Procurar aqui" (keyup)="applyFilter($event)" />
            </mat-form-field>

            <button  type="button" mat-flat-button  color="primary" class="font fs-10 shadow" style="height: 42px;" (click)="selectAllAdmins()" *ngIf="!setAdmins"  [ngStyle]="phone ? {'width': '80px'}:{}">
              <i class="fas fa-check" *ngIf="!phone"></i> &nbsp;Adicionar todos &nbsp; ({{admins.length}})
            </button>
      
            <button  type="button" mat-flat-button  color="primary" class="font fs-10 shadow" style="height: 42px;" (click)="deselectAllAdmins()" *ngIf="setAdmins"  [ngStyle]="phone ? {'width': '80px'}:{}">
              <i class="fas fa-check"  *ngIf="!phone"></i> &nbsp;Desselecionar todos 
            </button>
         
        </div>
      
          <table mat-table [dataSource]="dataSource" matSort   >
      
              <ng-container matColumnDef="img" >
                  <th mat-header-cell *matHeaderCellDef  mat-sort-header > Img </th>
                  <td mat-cell *matCellDef="let admin"> 
                    <img [src]="admin | imagenPath" style="border-radius: 7px;" *ngIf="admin.Ruta_Imagen !== '' && admin.Ruta_Imagen !== null" width="50px">
                    <img src="./assets/images/no-image.jpg" width="50px" *ngIf="admin.Ruta_Imagen == '' || !admin.Ruta_Imagen">
                 </td>
                </ng-container>

                <ng-container matColumnDef="name" >
                  <th mat-header-cell *matHeaderCellDef  mat-sort-header > Nome  </th>
                  <td mat-cell *matCellDef="let admin"> 
                      {{ admin.Nome_Completo }}
                 </td>
                </ng-container>

                
              <ng-container matColumnDef="role" >
                <th mat-header-cell *matHeaderCellDef  mat-sort-header > Role  </th>
                <td mat-cell *matCellDef="let admin"> 
                    {{ admin.role }}
               </td>
              </ng-container>

              
              <ng-container matColumnDef="propulsao">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Propulsao </th>
                <td mat-cell *matCellDef="let user"> {{ user?.propulsao_name}}</td>
              </ng-container> 
                  
                    
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let admin; columns: displayedColumns" (click)="assignAdmin(admin)" [ngClass]="{'selectedTD': isAdminSelected(admin)}" style="cursor: pointer;"></tr>
      
               
      
          </table>
      
          <br>
          <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>
        
      </div>
        
  
      </div>

</mat-dialog-content>



<div class="loading-overlay" *ngIf="isLoading">
<div class="spinner-grow " role="status" style="width: 50px; height: 50px;"  >
  <mat-spinner></mat-spinner>
</div>
</div> 


