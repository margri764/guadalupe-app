


    <div class="d-flex justify-content-between align-items-center pd-10">
        <h1 mat-dialog-title style="font-family: poppins-regular;"> Adicionar Resultados  </h1>
        <span class="material-icons cursor " [ngClass]="backClose ? ' iconSelected':'iconDeselected' " (click)="closeModal()">close</span>
    </div>
  
    <div class="d-flex justify-content-center w-100 pd-20">
        <div class="border w-100"></div>
    </div>    
      
    <mat-dialog-content style="padding: 20px;" [ngStyle]="phone ? {'width':'97vw'}:{'width':'800px'}">
        
        <div class="cardWithShadow w-100 animate__animated animate__fadeIn pd-10"  >
  
            <div class="row pd-20">

                <div class="mat-elevation-z8 mt-20 pd-20">
                      
                  <div class="d-flex flex-column justify-content-end align-items-end w-100 " >
                      <button  type="button" mat-flat-button  color="primary" class="font fs-10 shadow mb-10" style="height: 42px;" (click)="selectAllResults()" *ngIf="!setResults">
                        <i class="fas fa-check"></i> &nbsp;Adicionar todos &nbsp; ({{results.length}})
                      </button>

                      <button  type="button" mat-flat-button  color="primary" class="font fs-10 shadow" style="height: 42px;" (click)="deSelectAllResults()" *ngIf="setResults">
                        <i class="fas fa-check"></i> &nbsp;Desselecionar todos &nbsp; ({{results.length}})
                      </button>
                   
                  </div>

                  <mat-form-field appearance="outline" color="primary" style="width: 160px !important;">
                    <input matInput placeholder="Procurar aqui" (keyup)="applyFilter($event)" />
                  </mat-form-field>
              
                  <table mat-table [dataSource]="dataSource" matSort   >
              
                      <ng-container matColumnDef="acronym" >
                          <th mat-header-cell *matHeaderCellDef  mat-sort-header > Sigla  </th>
                          <td mat-cell *matCellDef="let result" > 
                              {{ result.acronym }}
                         </td>
                        </ng-container>
                 
                      <ng-container matColumnDef="description">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header > Descrição </th>
                          <td mat-cell *matCellDef="let result"> 
                               {{ result.description }}
                          </td>
                        </ng-container>
              
                            
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="assignResult(row)" [ngClass]="{'selectedTD': isResultSelected(row)}" style="cursor: pointer;"></tr>
              
                  </table>
              
                  <br>
                  <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
                </div>
                
              </div>

              <div #result></div>
    
              <div class="mt-30" *ngIf="arrayResults.length > 0">
          
                 <h3 class="font"> Resultados adicionados</h3>
                 <div class="card pd-20">
          
                      <mat-chip-set style="margin-top: 0px !important;">
                          <mat-chip *ngFor="let resul of arrayResults" [removable]="true" (removed)="removeResult(resul)" >
                  
                              {{ resul.acronym }}
                              <mat-icon matChipRemove style="color: white;     
                          " >cancel</mat-icon>
                          </mat-chip>
                       </mat-chip-set>
                  </div>
              </div>
                
        </div>

              
  
    </mat-dialog-content>


  
    <mat-dialog-actions align="end">
       <button type="button" mat-dialog-close class="cancelButton">Cancelar</button> &nbsp;  &nbsp;
       <button type="button" class="acceptButton" [disabled]="arrayResults.length === 0" (click)="onSave()"> Enviar </button> 
    </mat-dialog-actions>
  
  
  <div class="loading-overlay" *ngIf="isLoading">
  <div class="spinner-grow " role="status" style="width: 50px; height: 50px;"  >
      <mat-spinner></mat-spinner>
  </div>
  </div> 
  
            
  