<div class="row pd-20">

  <div class="mat-elevation-z8 mt-20 pd-20">
        
    <div class="d-flex justify-content-between align-items-center w-100">

        <mat-form-field appearance="outline" color="primary" style="width: 160px;">
            <input matInput placeholder="Procurar aqui" (keyup)="applyFilter($event)" />
          </mat-form-field>

        <button  type="button" mat-flat-button  color="primary" class="font fs-10 shadow" (click)="openModalNewTratamento()" style="height: 42px;" >
            <i class="fas fa-plus "></i> &nbsp; Novo
        </button>
    </div>

    <table mat-table [dataSource]="dataSource" matSort   >

        <ng-container matColumnDef="number" >
            <th mat-header-cell *matHeaderCellDef  mat-sort-header > Nome </th>
            <td mat-cell *matCellDef="let tratamento" class="selected " (click)="editTratamento(tratamento)"> 
                {{ tratamento.number }}
           </td>
          </ng-container>

        <ng-container matColumnDef="acronym" >
            <th mat-header-cell *matHeaderCellDef  mat-sort-header > Sigla </th>
            <td mat-cell *matCellDef="let tratamento" > 
                {{ tratamento.acronym }}
           </td>
          </ng-container>

        <ng-container matColumnDef="name" >
            <th mat-header-cell *matHeaderCellDef  mat-sort-header > Nome </th>
            <td mat-cell *matCellDef="let tratamento" > 
                {{ tratamento.name }}
           </td>
          </ng-container>

        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef mat-sort-header > Descrição </th>
            <td mat-cell *matCellDef="let tratamento"> 
                 {{ tratamento.description }}
            </td>
          </ng-container>

          <ng-container matColumnDef="propulsao">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Propulsões </th>
            <td  mat-cell *matCellDef="let tratamento" >
                {{ tratamento.propulsao_name.join(',  ') }}
            </td>
          </ng-container> 
              
          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> Ações </th>
            <td  mat-cell *matCellDef="let tratamento" >
                <div class="d-flex justify-content-center align-items-center " >
                    <span class="material-icons edit"  (click)="editTratamento(tratamento)" [matTooltip]="'Editar tratamento'">edit</span>
                    <span class="material-icons  delete"  [matTooltip]="'Excluir tratamento'" (click)="onRemove(tratamento)">delete</span>
                    <span class="material-icons cursor add"  [matTooltip]="'Adicionar propulsões'" (click)="assignPropulsao(tratamento)" *ngIf="loggedUser.role === 'webmaster'">lan</span>
                </div>

              </td>
          </ng-container>
              
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>

    <br>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
  
</div>
  
